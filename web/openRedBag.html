<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>拆红包</title>
  <script>
    document.write(`<link rel="stylesheet" href="../static/css/main.css?v=${Math.random()}">`)
  </script>
</head>

<body>

<main class="openRedBag">

  <div class="redBag" id="redBag">


    <div class="bag-item">
      <img src="../static/image/red_bag.png"/>
    </div>
    <div class="bag-item">
      <img src="../static/image/red_bag.png"/>
    </div>
    <div class="bag-item">
      <img src="../static/image/red_bag.png"/>
    </div>
    <div class="bag-item">
      <img src="../static/image/red_bag.png"/>
    </div>
    <div class="bag-item">
      <img src="../static/image/red_bag.png"/>
    </div>
    <div class="bag-item">
      <img src="../static/image/red_bag.png"/>
    </div>
    <div class="bag-item">
      <img src="../static/image/red_bag.png"/>
    </div>
    <div class="bag-item">
      <img src="../static/image/red_bag.png"/>
    </div>
    <div class="bag-item">
      <img src="../static/image/red_bag.png"/>
    </div>
    <div class="bag-item">
      <img src="../static/image/red_bag.png"/>
    </div>
    <div class="bag-item">
      <img src="../static/image/red_bag.png"/>
    </div>
    <div class="bag-item">
      <img src="../static/image/red_bag.png"/>
    </div>
    <div class="bag-item">
      <img src="../static/image/red_bag.png"/>
    </div>
    <div class="bag-item">
      <img src="../static/image/red_bag.png"/>
    </div>
    <div class="bag-item">
      <img src="../static/image/red_bag.png"/>
    </div>


  </div>

</main>

<footer id="tabBar" class="tabBar">
  <a class="bar" href="redBag.html">
    <i class="icon icon-gift_bag"></i>
    <div>红包</div>
  </a>
  <a class="bar" href="openRedBag.html">
    <i class="icon icon-red_envelopes"></i>
    <div>拆红包</div>
  </a>
  <a class="bar" href="proxy.html">
    <i class="icon icon-proxy"></i>
    <div>代理</div>
  </a>
  <a class="bar" href="mall.html">
    <i class="icon icon-mall"></i>
    <div>商城</div>
  </a>
  <a class="bar" href="customerService.html">
    <i class="icon icon-service"></i>
    <div>客服</div>
  </a>
</footer>

<script>
  document.write(`<${'script'} src="../static/js/main.js?v=${Math.random()}"></${'script'}>`)
</script>

<script>

  tabBar(1)

  // 判断有没有红包可以拆,没有弹出提示
  prompt({
    message: '没有红包可拆!',
    cancel: false,
    success: function () {
      window.location.href = 'redBag.html'
    },
  })

  let click = true // 防二次拆红包
  const redBag = document.getElementById('redBag')
  const item = redBag.getElementsByClassName('bag-item')

  for (let i = 0; i < item.length; i++) {
    // 遍历能拆的红包,绑定事件
    item[i].onclick = function () {
      if (click) {
        click = false

        console.log('选择的是第' + i + '个红包')
        // 这里写点击红包后的处理

      }
    }
  }

</script>

</body>
</html>
